<ui:composition
        template="#{stdTemplate.masterLayout}"
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://xmlns.jcp.org/jsf/passthrough">
    >
    <ui:define name="title">#{i18n['common.signIn']}</ui:define>
    <ui:define name="css">
        <h:outputStylesheet
                library="default"
                name="css/signin.css"
                target="head"
        />
    </ui:define>

    <ui:define name="header"/>

    <ui:define name="content">
        <div class="sign-in-fixed">
            <div class="sign-in">
                <div class="content">
                    <h:link outcome="/index"
                            styleClass="sign-in-return"
                            p:data-inverted=""
                            p:data-tooltip="#{i18n['signin.return']}"
                            p:data-position="bottom center">
                        <h:graphicImage library="default"
                                        name="images/favicon/android-chrome-192x192.png"
                                        alt="Icon"
                        />
                    </h:link>
                    <div class="ui piled segment">
                        <form id="sign-in-form"
                              action="#{request.contextPath}/signin.handler"
                              method="post"
                              class="ui attached form segment large">
                            <h1 class="ui horizontal divider header">
                                <i class="shield icon"/>
                            </h1>
                            <div class="field">
                                <label>#{i18n['commom.email']}</label>
                                <div class="ui left icon input">
                                    <input
                                            type="email"
                                            name="email"
                                            placeholder="email@example.com"
                                            required=""
                                            autocomplete="off"
                                            spellcheck="false"
                                    />
                                    <i class="envelope open icon"/>
                                </div>
                            </div>
                            <div class="field">
                                <label>#{i18n['common.password']}</label>
                                <div class="ui left icon input">
                                    <input
                                            type="password"
                                            name="password"
                                            placeholder="#{i18n['common.password']}"
                                            required=""
                                            autocomplete="off"
                                            spellcheck="false"
                                    />
                                    <i class="lock icon"/>
                                </div>
                            </div>
                            <div class="ui blue fluid big button submit"
                                 tabindex="0">
                                <i class="send icon"/>
                                #{i18n['common.signIn']}
                            </div>

                            <div class="ui error message"></div>
                        </form>

                        <div id="sign-in-message"
                             class="ui large bottom attached message">
                            <i class="info circle icon"/>
                            <span>#{i18n['signin.message']}</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </ui:define>

    <ui:define name="footer"/>

    <ui:define name="js-injected">
        <script type="text/javascript">
            document.addEventListener("DOMContentLoaded", function () {
                const $form = $("#sign-in-form");
                $form.form({
                    fields: {
                        email: {
                            identifier: "email",
                            rules: [
                                {
                                    type: "email",
                                    prompt: "#{i18n['signin.email.error']}"
                                },
                                {
                                    type: "empty",
                                    prompt: "#{i18n['signin.email.required']}"
                                },
                                {
                                    type: "maxLength[50]",
                                    prompt: "#{i18n['signin.email.maxLength']}"
                                }
                            ]
                        },
                        password: {
                            identifier: "password",
                            rules: [
                                {
                                    type: "empty",
                                    prompt: "#{i18n['signin.password.required']}"
                                },
                                {
                                    type: "minLength[8]",
                                    prompt:
                                        "#{i18n['signin.password.minLength']}"
                                },
                                {
                                    type: "maxLength[25]",
                                    prompt:
                                        "#{i18n['signin.password.maxLength']}"
                                }
                            ]
                        }
                    }
                });
            });
        </script>
    </ui:define>
</ui:composition>
