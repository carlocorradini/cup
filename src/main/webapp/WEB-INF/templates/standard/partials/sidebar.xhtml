<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
>
    <ui:fragment rendered="#{not empty person.authPerson}">
        <nav class="ui left sidebar vertical menu big" id="sidebar-menu">

            <div class="close-container">
                <div id="sidebar-menu-close" class="close"></div>
            </div>

            <div id="sidebar-avatar-error" class="hidden">
                <div class="ui negative message tiny">
                    <i class="exclamation triangle icon"/>
                    #{i18n["sidebar.avatar.error"]}
                    <h:outputText value="#{app.configAvatarMaxFileSize / 1024}">
                        <f:convertNumber integerOnly="true"/>
                    </h:outputText>
                    KByte
                </div>
            </div>

            <div class="avatar">
                <div class="avatar-edit">
                    <input type="file" id="sidebar-avatar-input"
                           accept=".png, .jpg, .jpeg"
                           data-max-size="#{app.configAvatarMaxFileSize}"
                    />
                    <label for="sidebar-avatar-input">
                        <i class="pencil alternate icon"/>
                    </label>
                </div>
                <div class="avatar-save hidden" id="sidebar-avatar-save">
                    <i class="save outline icon blue"/>
                    <i class="check icon green hidden"/>
                    <i class="close icon red hidden"/>
                    <i class="notched circle loading icon hidden"/>
                </div>
                <div class="avatar-preview">
                    <h:graphicImage id="sidebar-avatar-image"
                                    styleClass="person-avatar"
                                    library="_default"
                                    name="#{person.authPerson.avatar.nameAsResource}"
                                    alt="Avatar"
                    />
                </div>
            </div>

            <h4 class="name-surname text-overflow-ellipsis">
                #{person.authPerson.fullNameCapitalized}
            </h4>

            <div class="item">
                <div class="ui input disabled">
                    <input type="text" placeholder="#{i18n['common.search']}..."/>
                </div>
            </div>

            <h:link outcome="/dashboard/index"
                    styleClass="item"
            >
                <i class="th icon"/>
                #{i18n["common.dashboard.personal"]}
            </h:link>
            <h:link outcome="/dashboard/doctor/index"
                    styleClass="item"
                    rendered="#{not empty doctor.authDoctor}"
            >
                <i class="user md icon"/>
                #{i18n["common.dashboard.doctor"]}
            </h:link>

            <div class="item">
                <div class="header">#{i18n["common.services"]}</div>
                <div class="menu">
                    <h:link outcome="/dashboard/private/report/index"
                            styleClass="item">
                        #{i18n["common.reports"]}
                        <span class="ui red label">4</span>
                    </h:link>
                    <h:link outcome="/dashboard/private/exam/index"
                            styleClass="item">
                        <span class="ui yellow empty circular label"/>
                        #{i18n["common.exams"]}
                    </h:link>
                    <h:link outcome="/dashboard/private/prescription/index"
                            styleClass="item">
                        <span class="ui green empty circular label"/>
                        #{i18n["common.prescriptions"]}
                    </h:link>
                </div>
            </div>
            <ui:fragment rendered="#{not empty doctor.authDoctor}">
                <div class="item">
                    <div class="header">#{i18n["common.patients"]}</div>
                    <div class="menu">
                        <h:link outcome="/dashboard/doctor/patients/index"
                                styleClass="item">
                            <span class="ui red empty circular label"/>
                            #{i18n["common.list"]}
                        </h:link>
                        <h:link outcome="/dashboard/doctor/prescription_medicine/index"
                                styleClass="item">
                            <span class="ui yellow empty circular label"/>
                            #{i18n["common.prescriptionMedicine"]}
                        </h:link>
                        <h:link outcome="/dashboard/doctor/prescription_exam/index"
                                styleClass="item">
                            <span class="ui green empty circular label"/>
                            #{i18n["common.prescriptionExam"]}
                        </h:link>
                    </div>
                </div>
            </ui:fragment>

            <div class="item">
                <a href="#{request.contextPath}/signout.handler" class="ui red fluid button">
                    #{i18n['common.signOut']}
                </a>
            </div>
        </nav>
    </ui:fragment>
</ui:composition>
